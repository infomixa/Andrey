<!DOCTYPE html><html>
<div id="locationField">
  <input id="autocomplete" placeholder="Enter your address" type="text">
</div>

<input class="field" id="street_number" disabled="true">
<input class="field" id="route" disabled="true">
<input class="field" id="locality" disabled="true">
<input class="field" id="administrative_area_level_1" disabled="true">
<input class="field" id="postal_code" disabled="true">





<!--
<div class="special-info">
 <div id="val">Estimated home value: $<span></span></div>
 <div id="lo">Low Estimate: $<span></span></div>
 <div id="hi">High Estimate: $<span></span></div>
</div>
<div class="special-info">
 <div id="lsd">Last Sold Date: <span></span></div>
 <div id="lsp">Last Sold Price: $<span></span></div>
 <div id="beds">Bedrooms: <span></span></div>
 <div id="baths">Bathrooms: <span></span></div>
</div>
<div id="no-data">No data found for your property</div>
-->

<!--   PAGE 2   -->

<div class="eval-title">Evaluation for the property: <span id="addr-big"></span></div>

<div class="special-info">
	<div id="meter-fill"></div>
	<figcaption class="meter-labels">
		<div class="text1">
			<div id="lo">$<span></span></div>
			<span class="text-1">Low Estimate</span>
		</div>
		<div class="text2">
			<div id="val">$<span></span></div>
			<span class="text-1">Estimated Home Value</span>
		</div>
		<div class="text3">
			<div id="hi">$<span></span></div>
			<span class="text-1">High Estimate</span>
		</div>
	</figcaption>
	<div id="beds">Bedrooms: <span></span></div>
	<div id="baths">Bathrooms: <span></span></div>
	<div id="sqft">Square Feet: <span></span></div>
	<div id="lsd">Last Sold Date: <span></span></div>
	<div id="lsp">Last Sold Price: $<span></span></div>
	<div id="no-data">
		<p>Thank you for your interest! Our home evaluation tool pulls in data from past property records to provide you with a estimate value of your property.</p>
		<p>We weren&#8217;t able to find an automated valuation for the address entered. Please <a href="https://andreygulyy.com/contact/">Contact Andrey Gulyy</a> directly for an in-depth review of your home&#8217;s value.</p>
	</div>
</div>


<!-- page 2 -->
<style>
.special-info, .special-info > div, .special-info-challenge, #no-data {
display:none;
}
#gforms_confirmation_message_36 {
    margin-top: 30px;
    text-align: center;
}
</style>




<!-- Replace the value of the key parameter with your own API key. -->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3BASLanTRik25irkt95qEhMyENR9woOw&libraries=places&callback=initAutocomplete" async defer></script>

<script> // first page
// This example requires the Places library. Include the libraries=places
// parameter when you first load the API. For example:
// <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

var inputFieldID = "input_34_1";
var placeSearch, autocomplete;
var componentForm = {
    street_number: "short_name",
    route: "short_name",
    locality: "short_name",
    administrative_area_level_1: "short_name",
    postal_code: "short_name"
};

function initAutocomplete() {
    autocomplete = new google.maps.places.Autocomplete((document.getElementById(inputFieldID)));
    autocomplete.addListener("place_changed", fillInAddress);
}

function fillInAddress() {
    // Get the place details
    var place = autocomplete.getPlace();

    // clear existing values and enable inputs
    // for (var component in componentForm) {
    //     document.getElementById(component).value = "";
    //     document.getElementById(component).disabled = false;
    // }

    // reset
    var sn = "",
        rt = "",
        loc = "",
        stat = "";

    // Get each component of the address from the place details and fill the corresponding field on the form
    // for (var i = 0; i < place.address_components.length; i++) {
    //     var addressType = place.address_components[i].types[0];
    //     if (componentForm[addressType]) {
    //         var val = place.address_components[i][componentForm[addressType]];
    //         document.getElementById(addressType).value = val;
    //     }
    // }
    for (var i = 0; i < place.address_components.length; i++) {
        var addressType = place.address_components[i].types[0];
        if (addressType == "street_number") {
            sn = place.address_components[i][componentForm["street_number"]];
        }else if (addressType == "route") {
            rt = place.address_components[i][componentForm["route"]];
        }else if (addressType == "locality") {
            loc = place.address_components[i][componentForm["locality"]];
        }else if (addressType == "administrative_area_level_1") {
            stat = place.address_components[i][componentForm["administrative_area_level_1"]];
        }
    }

    jQuery("#input_34_2").val(sn+" "+rt);
    jQuery("#input_34_3").val(loc+", "+stat);

}

</script>

<script> // second page

function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"), results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

var mapdiv = jQuery("#mapdiv");
var addr = getParameterByName("street")+" "+getParameterByName("citystate");
var encoded = encodeURI(addr);
mapdiv.html('<iframe width="600" height="450" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyB3BASLanTRik25irkt95qEhMyENR9woOw&q='+encoded+'" allowfullscreen></iframe>');

jQuery("#addr-big").html(addr);

var valsArr = ["val", "lo", "hi", "lsd", "lsp", "beds", "baths", "sqft"];

var hasData = false;
	
for (i = 0; i < valsArr.length; i++) {

	var theValue = getParameterByName(valsArr[i]);

	if (theValue != "") {

		jQuery("#"+valsArr[i]).css("display","block");
		
		if (valsArr[i] == "val" || valsArr[i] == "lo" || valsArr[i] == "hi" || valsArr[i] == "lsp") {
			theValue = numberWithCommas(theValue);
			hasData = true;
		}

		jQuery("#"+valsArr[i]+" span").html(theValue);
		
	}

}
	
if (!hasData) {
	jQuery("#no-data").css("display","block");
	jQuery("#input_35_7").val("true");
}

var aFormSubmitted = false;
	
jQuery(document).bind("gform_confirmation_loaded", function(){
	if (!aFormSubmitted) {
		jQuery(".special-info, .special-info-challenge").css("display","block");
		jQuery("html,body").scrollTop(0);
		ga("send", "event", "Home Valuation Lead");
		fbq("track", "CompleteRegistration", {
			content_name: "Home Valuation Lead"
		});
	}
	aFormSubmitted = true;
});


jQuery("#input_35_8").change(function() { // name
	jQuery("#input_36_2").val(jQuery("#input_35_8").val());
});
jQuery("#input_35_5").change(function() { // email
	jQuery("#input_36_4").val(jQuery("#input_35_5").val());
});
jQuery("#input_35_9").change(function() { // phone
	jQuery("#input_36_5").val(jQuery("#input_35_9").val());
});

</script>

</html>
